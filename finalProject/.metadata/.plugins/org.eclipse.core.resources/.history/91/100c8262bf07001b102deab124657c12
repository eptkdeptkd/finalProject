<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="Admin">

<insert id="uploadFile" parameterType="cc.factory.com.dto.coffeeDto">
	INSERT INTO CC_COFFEE(SEQ, NAME, PRICE, NEWNAME, ORIGINNAME,INFO,ORDER_COUNT,KIND)
	VALUES(SEQ_COFFEE.NEXTVAL, #{name}, #{price}, #{newname}, #{originname},#{info},0,#{kind} )
</insert>

<select id="getOrderSeqList" parameterType="cc.factory.com.dto.orderParam" resultType="cc.factory.com.dto.orderParam">
	<![CDATA[SELECT ID, SEQ
	FROM (
	 SELECT ROW_NUMBER()OVER(ORDER BY SEQ) AS RNUM,
	  FROM CC_ORDER 
	 WHERE ODATE >= #{today}
	 ORDER BY SEQ
	)
	WHERE #{start} <= RNUM AND RNUM =< #{end} ]]>
</select>

<select id="getOrderList" parameterType="java.lang.Integer" resultType="cc.factory.com.dto.orderDetailDto">
	SELECT COFFEE_NAME , SHOT, SYRUP, ASK
	FROM CC_ORDER_DETAIL
	WHERE ORDER_SEQ = #{seq}
</select>

</mapper>